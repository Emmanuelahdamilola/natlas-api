# ğŸ‡³ğŸ‡¬ N-ATLAS Nigerian Medical API

Production-ready Flask API serving 290+ cached N-ATLAS medical language responses for Nigerian languages.

## ğŸŒ Supported Languages

- **Yoruba** (90 cases)
- **Igbo** (90 cases)  
- **Hausa** (86 cases)
- **English/Nigerian Pidgin** (24 cases)

## ğŸš€ Features

- âœ… Real N-ATLAS model responses (4-bit quantized)
- âœ… Fuzzy matching for input variations
- âœ… Cultural context understanding
- âœ… Medical severity assessment
- âœ… Doctor specialty recommendations
- âœ… Sub-100ms response times
- âœ… CORS enabled for frontend integration

## ğŸ“¡ API Endpoints

### `GET /`
API information and available endpoints

### `GET /health`
Health check and system status

### `POST /analyze`
Full medical analysis with cultural context

**Request:**
```json
{
  "text": "Mo ni iba, ori n fo mi",
  "language": "yoruba"
}
```

**Response:**
```json
{
  "input": "Mo ni iba, ori n fo mi",
  "language": "yoruba",
  "translation": "I have fever and severe headache",
  "cultural_context": "Yoruba expression 'ori n fo' indicates intense pain...",
  "medical_keywords": ["fever", "headache", "pain"],
  "severity": "moderate",
  "nigerian_context": "Common malaria presentation in SW Nigeria...",
  "recommended_specialties": ["General Practitioner", "Neurologist"],
  "match_type": "exact",
  "similarity_score": 100,
  "cached": true,
  "success": true
}
```

### `POST /quick-symptoms`
Quick symptom extraction

**Request:**
```json
{
  "text": "Mo ni iba",
  "language": "yoruba"
}
```

**Response:**
```json
{
  "success": true,
  "symptoms": ["fever", "temperature", "malaria"],
  "language": "yoruba",
  "cached": true
}
```

### `POST /analyze-for-doctors`
Analysis formatted for doctor suggestion systems

**Request:**
```json
{
  "text": "Ahá»¥ á»ká»¥ na-agba m",
  "language": "igbo"
}
```

**Response:**
```json
{
  "success": true,
  "enhanced_notes": "Patient reports fever (Igbo: 'ahá»¥ á»ká»¥')...",
  "original": "Ahá»¥ á»ká»¥ na-agba m",
  "translation": "I have fever",
  "keywords": ["fever", "temperature"],
  "severity": "moderate",
  "recommended_specialties": ["General Practitioner"],
  "cultural_insights": {
    "context": "Igbo medical expression...",
    "nigerian_health_notes": "Common presentation..."
  },
  "match_type": "exact",
  "similarity_score": 100,
  "cached": true
}
```

## ğŸ› ï¸ Local Development

### Prerequisites
- Python 3.8+
- pip

### Setup

1. Clone repository:
```bash
git clone https://github.com/yourusername/natlas-api.git
cd natlas-api
```

2. Install dependencies:
```bash
pip install -r requirements.txt
```

3. Run server:
```bash
python app.py
```

Server starts at `http://localhost:5000`

### Testing

```bash
# Health check
curl http://localhost:5000/health

# Test analysis
curl -X POST http://localhost:5000/analyze \
  -H "Content-Type: application/json" \
  -d '{"text":"Mo ni iba","language":"yoruba"}'
```

## ğŸš¢ Deployment

### Render.com (Recommended)

1. Fork/clone this repository
2. Sign up at [render.com](https://render.com)
3. Create new Web Service
4. Connect your GitHub repository
5. Configure:
   - **Build Command:** `pip install -r requirements.txt`
   - **Start Command:** `gunicorn app:app`
   - **Environment:** Python 3

Deploy! Your API will be live at: `https://your-app.onrender.com`

## ğŸ“Š Cache Information

- **Total Responses:** 290
- **Model:** N-ATLAS (NCAIR1/N-ATLaS)
- **Quantization:** 4-bit
- **Generated:** See `cache/metadata.json`
- **Size:** 0.66 MB

## ğŸ”§ Technology Stack

- **Framework:** Flask 3.0
- **Fuzzy Matching:** fuzzywuzzy
- **CORS:** flask-cors
- **Production Server:** gunicorn
- **Model Source:** N-ATLAS (Hugging Face)

## ğŸ“ License

This API serves responses generated by [N-ATLAS](https://huggingface.co/NCAIR1/N-ATLaS), Nigeria's first medical language model.

## ğŸ¤ Contributing

Contributions welcome! Please open an issue or PR.

## ğŸ“§ Support

For issues or questions, open a GitHub issue.

---

**Built with ğŸ‡³ğŸ‡¬ for Nigerian healthcare accessibility**